<!DOCTYPE html>

<html lang="it">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- VUE -->
    <script src="https://unpkg.com/vue@3.2.30"></script>
    <title>Vue Boolzapp</title>
    <!-- Font Awesome 6.4.0 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css"
        integrity="sha512-h3sKk/x6ipBRuYXJ8V7Ku6S4T6T+fxHcIC8WSPcJvPzLPTyuFy/aXf8dn1xilJv2I2QnZGTLue5f0ZR5UE5i5Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- App Container -->
    <div id="app">
        <div class="background">
            
            <div class="background-header">

            </div>

            <div class="background-main-content">

            </div>

            <div class="main-chat">
                <div class="left-contacts">

                    <div class="user-settings">

                        <div class="user-photo-name">

                            <div class="user-photo">
                                <img class="" src="./img/avatar_io.jpg" alt="My Photo">
                            </div>

                            <div class="user-name">
                                <span>Sofia</span>
                            </div>

                        </div>

                        <div class="icons">
                            <i class="fa-solid fa-circle-notch"></i>
                            <i class="fa-solid fa-message"></i>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>
                    </div>

                    <div class="notification-settings">

                        <div class="bell-container">
                            <i class="fa-solid fa-bell-slash"></i>
                        </div>

                        <div class="notification-text">
                            <span>Ricevi notifiche di nuovi messaggi</span>
                            <a href="#">Attiva notifiche desktop</a>
                        </div>

                    </div>

                    <div class="search-bar">
                        <div class="magnifying-lens-container">
                            <i class="fa-solid fa-search"></i>
                        </div>

                        <div class="input-container">
                            <input type="text" placeholder="Cerca o inizia una nuova chat">
                        </div>
                    </div>

                    <div class="contacts-list">
                        <div v-for="(contact, index) in contacts" :key="contact.name" :class="(index === currentContact ? 'contact-active' : null)" class="contact-container" @click="setIndexContact(index)">

                            <div class="contact-avatar-and-info-container">
                                <div class="contact-avatar">
                                    <img :src="contact.avatar" :alt="contact.name">
                                </div>
    
                                <div class="contact-info">
                                    <div class="contact-name">{{ contact.name }}</div>
                                    <div class="contact-last-message">{{ getLastMessage(contact) }}</div>
                                </div>
                            </div>

                            <div class="contact-time">
                                {{ getLastMessageTime(contact) }}
                            </div>

                        </div>
                    </div>
                    
                </div>
                
                <div class="right-chat">

                    <div class="active-user-chat-header">

                        <div class="contact-avatar-and-info-container">
                            <div class="contact-avatar">
                                <img :src="contacts[currentContact].avatar" :alt="contacts[currentContact].name">
                            </div>
                            <div class="contact-info">
                                <div class="contact-name">{{ contacts[currentContact].name }}</div>
                                <div class="contact-time-header">
                                    Ultimo accesso oggi alle {{ getLastMessageTime(contacts[currentContact]) }}
                                </div>
                            </div>
                        </div>

                        <div class="icons">
                            <i class="fa-solid fa-search"></i>
                            <i class="fa-solid fa-paperclip"></i>
                            <i class="fa-solid fa-ellipsis-vertical"></i>
                        </div>

                    </div>

                    <div class="active-user-chat">
                        
                    </div>

                    <div class="active-user-text-space">

                        <div class="emoji-container">
                            <i class="fa-solid fa-smile"></i>
                        </div>

                        <div class="input-container">
                            <input type="text" placeholder="Scrivi un messaggio">
                        </div>

                        <div class="voice-message">
                            <i class="fa-solid fa-microphone"></i>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>